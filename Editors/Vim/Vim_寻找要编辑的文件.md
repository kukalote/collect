### Vim 寻找要编辑的文件[^1]

[^1]: Vim_reference.pdf 130页



下面介绍如何在 vim 中切换编辑中的文件。
#### 1.1 文件浏览器
Vim 有个插件可以用来编辑一个目录。
    
    //点开目录浏览器
    :edit directory
    :E
    //返回原文件
    Ctrl-O
#### 1.2 文件浏览器操作

    :edit file       //编辑指定文件
    :cd directory    //改变当前目录
    :pwd             //查看当前目录
Vim 记得最近访问过的那个目录。你可以用 "**`:cd -`**" 命令回去那儿。例如 : 
    
    :pwd
    /var/www
    :cd /etc
    :pwd
    /etc
    :cd -
    :pwd
    /var/www
    :cd - 
    :pwd
    /etc
新窗口采用其他工作目录 : **`:lcd directory`**

#### 1.3 查找文件
将光标移至文件名上，并键入 : **`gf`**, Vim 就会找到并打开这个文件。
如果当前目录下找不到该文件，可以利用 '**`path`**' 选项来寻找 : 
    
    :set path+=/var/www/
    :set path+=./proto
当你要找的文件名没出现在你编辑的文件里时，你可以键入这个文件名 : 

    :find filename  
*tips :* 只不过 **`:edit`** 命令不会用到 `'path'` 选项。  
要在新窗口内打开那个已经找到的文件，用 **`Ctrl-W f`**, 而不是 "fg", 或用 **`:sfind`** 而不是 ":find"。  
也有个好办法可以直接启动 Vim 来编辑 `'path'` 中的某个文件 : 

    vim "+find filename"    //双引号是必需的
#### 1.4 缓冲区列表
    Vim 编辑器使用术语 "缓存区" 来描述编辑当中的文件。实际上，缓冲区是你编辑的文件的副本。
    你修改完缓冲区，就把缓冲区的内容写进文件。缓冲区不仅存放文件内容，而且还存放着全部标记，
    设定，以及其它跟被编辑文件相关的东西。
1. **隐藏的缓冲区**  
假如你在编辑文件 one.txt, 同时又要编辑 two.txt。你可以简单的用 ":edit two.txt" 来办到，但由于你已修改了 one.txt, 那样做就没用了。而你又不想在此时就把 one.txt 存盘。Vim 可以为你解决这个问题 : 

        :hide edit two.txt
缓冲区 "one.txt" 从屏幕消失，但 Vim 仍知道你在编辑这个缓冲区，因而保留着它修改过的文本。  
***tips : ***小心，当你的隐藏的缓冲区已经改动，千万不要在所有缓冲区存盘之前就退出 Vim。   
2. **非激活缓冲区**  
一个缓冲区一经使用，Vim 就记住了一些有关该缓冲区的信息。即使它既不显示在窗口内，又非隐藏缓冲区，它也仍然在缓冲区列表上。这样的缓冲区称为非激活缓冲区。一般而主，
    
        激活        显示在窗口内，并加载文本
        隐藏        不显示在窗口内，但加载文本
        非激活      不显示在窗口内，不加载文本
3. **缓冲区列表**  
查看缓冲区列表 : **`:buffers`**  
另一个作用相当的命令 : **`:ls`**

    标记 | 解释
----|---
`u` | 列表外缓冲区
`%` | 当前缓冲区
`#` | 轮换缓冲区 
`a` | 激活缓冲区，缓冲区被加载且显示
`h` | 隐藏缓冲区，缓冲区被加载但不显示
`=` | 只读缓冲区
`-` | 不可改缓冲区，‘modifiable’ 选项不置位
`+` | 已修改缓冲区
4. **编辑缓冲区**  
指定缓冲号来编辑某一缓冲区,而不必键入文件名 : **`:buffer N`**  
但获知缓冲区号的唯一途径是查阅缓冲区列表。  
要在新窗口中打开一个缓冲区 : **`:sbuffer N`**  
如果不用缓冲区号，可以用文件名，或其部分 : **`:buffer help`**
5. **使用缓冲区列表**  
在缓冲区列表间移动 : 

    命令 | 解释
----|---
`:bnext` | 编辑下一个缓冲区
`:bprevious` | 编辑前一个缓冲区
`:bfirst` | 编辑第一个缓冲区
`:blast` | 编辑最后一个缓冲区  

    从缓冲区列表上删除一个缓冲区，用这个命令 : **`:bdelete N`**  

***Tips : ***即使用 "**`:bdelete`**" 命令删除了缓冲区以后，Vim 依然记得它。这个缓冲区实际上成了 "列表外" 缓冲区，它不再出现在 "**`:buffers`**" 命令所报告的列表中。不过 "**`:buffers!`**" 命令仍会列出 "列表外" 缓冲区。要让 Vim 彻底忘记一个缓冲区，用 "**`:bwipe`**" 命令。






