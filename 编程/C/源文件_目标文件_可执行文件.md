# 源文件_目标文件_可执行文件

<!-- create time: 2016-06-03 17:05:24  -->

<!-- This file is created from $MARBOO_HOME/.media/starts/default.md
本文件由 $MARBOO_HOME/.media/starts/default.md 复制而来 -->

### 源文件、目标文件和可执行文件

源文件、目标文件和可执行文件是编译过程中经常用到的名词。

**`源文件`** 通常指存放可编辑代码的文件, 如存放 C、C++ 和汇编语言的文件。

**`目标文件`** 是指经过编译器的编译生成的 CPU 可识别的二进制代码, 但是目标文件一般不能执行, 因为其中的一些函数过程没有相关的指示和说明。

**`可执行文件`** 就是目标文件与相关的库链接后的文件, 它是可以执行的。

### 编译过程

**`预编译过程`** 将程序中引用的头文件包含进源代码中, 并对一些宏进行替换。

**`编译过程`** 将用户可识别的语言翻译成一组处理器可识别的操作码, 生成目标文件, 通常翻译成汇编语言, 而汇编语言通常和机器操作码之间是一种一对一的关系。

**`目标文件`** 必须用某种方式组合起来才能运行, 这就是链接的作用。`目标文件` 中通常仅解析了文件内部的变量和函数, 对于引用的函数和变量还没有解析, 这需要将其他已经编写好的目标文件引用进来将没有解析的变量和函数进行解析, 通常引用的是目标是库。链接完成后生成可执行的文件。


### GCC 命令使用

1.  编译程序生成指定文件名 : 

        > gcc -o test hello.c
        > ./test
        
2. 生成目标文件 : 

        > gcc -c hello.c    //会生成一个名字为 hello.o 的文件
        
        > gcc -c -o test.o hello.c    //指定目标文件名为 test.o
        
3. 多文件编译 : 

        > gcc -o test string.c main.c
        
4. 预处理操作 : 

        > gcc -E string.c
